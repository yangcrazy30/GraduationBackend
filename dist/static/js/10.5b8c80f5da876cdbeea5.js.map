{"version":3,"sources":["webpack:///./src/api/homework/homework.js","webpack:///src/views/study/pages/homework/homeworkdetail.vue","webpack:///./src/views/study/pages/homework/homeworkdetail.vue?0c23","webpack:///./src/views/study/pages/homework/homeworkdetail.vue"],"names":["__webpack_exports__","homework","axios","post","name","courseId","startTime","endTime","questions","get","params","homeworkId","grade","__WEBPACK_IMPORTED_MODULE_0__utils_axios__","__webpack_require__","homeworkdetail","data","form","disable","mounted","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","getHomeWork","stop","methods","_this2","_callee2","res","i","question","_context2","Object","$route","id","sent","Date","getTime","status","length","push","options","split","myanswer","answer","value","finishHomework","_this3","_callee4","_context4","$refs","validate","_ref","_callee3","valid","_context3","getGrade","homeworkid","success","$message","type","message","$router","abrupt","_x","apply","arguments","number","homework_homeworkdetail","render","_vm","_h","$createElement","_c","_self","_v","_s","ref","attrs","model","label-width","_l","index","key","label","prop","rules","required","trigger","disabled","callback","$$v","$set","expression","on","click","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/10.5b8c80f5da876cdbeea5.js","sourcesContent":["import axios from \"@/utils/axios\"\n\nexport function addNewHomeWork(homework) {\n    return axios.post(\"/homework/newhomework\", {\n        name: homework.name,\n        courseId: homework.courseId,\n        startTime: homework.startTime,\n        endTime: homework.endTime,\n        questions: homework.questions\n    })\n}\n\nexport function getHomework(courseId) {\n    return axios.get(\"/homework/homework\", {\n        params: {\n            courseId: courseId\n        }\n    })\n}\n\nexport function getHomeworkById(homeworkId) {\n    return axios.get(\"/homework/getbyid\", {\n        params: {\n            homeworkId: homeworkId\n        }\n    })\n}\n\nexport function submitHomework(homework) {\n    return axios.post(\"/homework/submit\", {\n        homeworkId: homework.homeworkId,\n        grade: homework.grade,\n    })\n}\n\nexport function getHomeWorkSatus(homeworkId) {\n    return axios.get(\"homework/status\", {\n        params: {\n            homeworkId: homeworkId,\n        }\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/homework/homework.js","<template>\n  <div>\n    <header>\n      <h3>{{ homework.name }}</h3>\n    </header>\n    <main>\n      <el-form :model=\"form\" ref=\"form\" label-width=\"80px\">\n        <el-form-item\n          v-for=\"(question, index) in form.questions\"\n          :key=\"question.id\"\n          :label=\"'问题' + (index + 1)\"\n          :prop=\"'questions.' + index + '.myanswer'\"\n          :rules=\"{\n            required: true,\n            message: '答案不能为空',\n            trigger: 'blur'\n          }\"\n        >\n          <p>\n            <span>{{ question.value }}</span>\n          </p>\n          <el-radio-group v-model=\"question.myanswer\" :disabled=\"disable\">\n            <el-radio :label=\"0\">A: {{ question.options[0] }}</el-radio>\n            <el-radio :label=\"1\">B: {{ question.options[1] }}</el-radio>\n            <el-radio :label=\"2\">C: {{ question.options[2] }}</el-radio>\n            <el-radio :label=\"3\">D: {{ question.options[3] }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item>\n          <el-button :disabled=\"disable\" type=\"primary\" @click=\"finishHomework\">提交</el-button>\n        </el-form-item>\n      </el-form>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { getHomeworkById, submitHomework } from \"api/homework/homework\";\nexport default {\n  data() {\n    return {\n      homework: { name: \"\" },\n      form: {\n        questions: []\n      },\n      disable: false\n    };\n  },\n  async mounted() {\n    await this.getHomeWork();\n  },\n  methods: {\n    async getHomeWork() {\n      const res = await getHomeworkById(this.$route.params.id);\n      this.homework = res.data.data;\n      this.disable =\n        new Date(this.homework.endTime).getTime() < new Date().getTime() ||\n        this.$route.params.status !== \"未完成\";\n      for (let i = 0; i < this.homework.questions.length; i++) {\n        let question = this.homework.questions[i];\n        this.form.questions.push({\n          options: question.options.split(\"/\"),\n          myanswer: \"\",\n          answer: question.answer,\n          id: question.id,\n          value: question.value\n        });\n      }\n    },\n    async finishHomework() {\n      this.$refs[\"form\"].validate(async valid => {\n        if (valid) {\n          let grade = this.getGrade();\n          const res = await submitHomework({\n            homeworkId: this.$route.params.homeworkid,\n            grade: grade\n          });\n          if (res.data.success) {\n            this.$message({\n              type: \"success\",\n              message: \"提交成功\"\n            });\n            this.$router.push({\n              name: \"homework\"\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    getGrade() {\n      let number = 0;\n      for (let i = 0; i < this.form.questions.length; i++) {\n        if (this.form.questions[i].answer === this.form.questions[i].myanswer)\n          number++;\n      }\n      return number;\n    }\n  }\n};\n</script>\n\n<style scoped>\np {\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/study/pages/homework/homeworkdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header',[_c('h3',[_vm._v(_vm._s(_vm.homework.name))])]),_vm._v(\" \"),_c('main',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_vm._l((_vm.form.questions),function(question,index){return _c('el-form-item',{key:question.id,attrs:{\"label\":'问题' + (index + 1),\"prop\":'questions.' + index + '.myanswer',\"rules\":{\n          required: true,\n          message: '答案不能为空',\n          trigger: 'blur'\n        }}},[_c('p',[_c('span',[_vm._v(_vm._s(question.value))])]),_vm._v(\" \"),_c('el-radio-group',{attrs:{\"disabled\":_vm.disable},model:{value:(question.myanswer),callback:function ($$v) {_vm.$set(question, \"myanswer\", $$v)},expression:\"question.myanswer\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"A: \"+_vm._s(question.options[0]))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"B: \"+_vm._s(question.options[1]))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"C: \"+_vm._s(question.options[2]))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"D: \"+_vm._s(question.options[3]))])],1)],1)}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.disable,\"type\":\"primary\"},on:{\"click\":_vm.finishHomework}},[_vm._v(\"提交\")])],1)],2)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3acc5444\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/study/pages/homework/homeworkdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3acc5444\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./homeworkdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeworkdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeworkdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3acc5444\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./homeworkdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3acc5444\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/study/pages/homework/homeworkdetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}