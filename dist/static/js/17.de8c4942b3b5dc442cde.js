webpackJsonp([17],{G3Uz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),c=n.n(s),u=n("lrRS"),i={data:function(){return{tableData:[{id:1,email:"111@xx.com",username:"杨子瑶",grade:0}],currentPage:1,total:0,pageSize:10}},mounted:function(){var e=this;return c()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleCurrentChange();case 2:case"end":return t.stop()}},t,e)}))()},methods:{handleDelete:function(e,t){var n=this;this.$confirm("此操作会将学生移除此课程, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.j)(n.$route.params.id,t.id);case 2:return e.next=4,n.handleCurrentChange();case 4:n.$message({type:"success",message:"删除成功!"});case 5:case"end":return e.stop()}},e,n)}))).catch(function(){n.$message({type:"info",message:"已取消删除"})})},handleEdit:function(e,t){var n,a=this;this.$prompt("请输入成绩","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((n=c()(r.a.mark(function e(n){var s=n.value;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.k)(a.$route.params.id,t.id,s);case 2:return e.next=4,a.handleCurrentChange();case 4:case"end":return e.stop()}},e,a)})),function(e){return n.apply(this,arguments)})).catch(function(){a.$message({type:"info",message:"取消输入"})})},handleCurrentChange:function(){var e=this;return c()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.e)({page:e.currentPage,size:e.pageSize},e.$route.params.id);case 2:n=t.sent,e.tableData=n.data.data;case 4:case"end":return t.stop()}},t,e)}))()}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{label:"学生",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[e._v("ID: "+e._s(t.row.id))]),e._v(" "),n("p",[e._v("邮箱: "+e._s(t.row.email))]),e._v(" "),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.username))])],1)])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"成绩",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.grade))]):n("span",{staticStyle:{"margin-left":"10px"}},[e._v("未评分")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("评分")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var l=n("VU/8")(i,o,!1,function(e){n("decW")},"data-v-097e1412",null);t.default=l.exports},decW:function(e,t){}});
//# sourceMappingURL=17.de8c4942b3b5dc442cde.js.map