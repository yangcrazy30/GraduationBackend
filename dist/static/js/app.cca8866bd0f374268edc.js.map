{"version":3,"sources":["webpack:///./src/api/account/account.js","webpack:///src/App.vue","webpack:///./src/App.vue?c206","webpack:///./src/App.vue","webpack:///./src/store/modules/account.js","webpack:///./src/store/index.js","webpack:///./src/views/home/homeRouterConfig.js","webpack:///./src/views/course/courseRouterConfig.js","webpack:///./src/views/login/loginRouterConfig.js","webpack:///./src/views/study/studyRouterConfig.js","webpack:///./src/views/setting/settingRouterConfig.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/utils/config.js","webpack:///./src/utils/axios.js"],"names":["__webpack_exports__","userinfo","axios","post","username","email","password","role","get","params","__WEBPACK_IMPORTED_MODULE_0__utils_axios__","__webpack_require__","App","name","data","avtiveIndex","menus","_beforeUnload_time","_gap_time","mounted","_ref","_this","this","window","addEventListener","e","beforeunloadHandler","userAgent","navigator","isOpera","indexOf","unloadHandler","cy","event","clientY","target","ak","altKey","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","_x","apply","arguments","destroyed","_this2","removeEventListener","methods","Date","getTime","localStorage","setItem","removeItem","handleNavSelect","key","keyPath","$router","push","jumpToLogin","path","jumpToProfile","jumpToHome","$route","logout","$store","dispatch","computed","state","account","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","on","click","staticStyle","padding","_v","_s","mode","default-active","background-color","text-color","active-text-color","select","index","_m","staticRenderFns","src_App","normalizeComponent","ssrContext","modules_account","avatar","getters","isLoggedIn","actions","login","_ref2","commit","_response","response","abrupt","getItem","getInfo","sent","success","token","Error","err","_ref3","_callee2","_context2","updateAvatar","_ref4","_this3","_callee3","_context3","changeUserInfo","_ref5","_this4","_callee4","newuserinfo","_context4","updateUserInfo","mutations","payload","Math","random","clear","Vue","use","Vuex","store","Store","modules","homeRouterConfig","component","Promise","all","then","bind","courseRouterConfig","loginRouterConfig","studyRouterConfig","children","settingRouterConfig","Router","whiteList","set_default","router","routes","toConsumableArray_default","beforeEach","to","from","has","query","redirect","fullPath","VueSocketIO","debug","connection","ElementUI","ZeoUi","config","productionTip","afterEach","scrollTo","el","components","template","production","baseURL","development","process","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","__WEBPACK_IMPORTED_MODULE_2__config__","defaults","withCredentials","interceptors","request","headers","common","method","paramsSerializer","qs","stringify","arrayFormat"],"mappings":"uDAAAA,EAAA,EAEO,SAAgBC,GACrB,OAAOC,IAAMC,KAAK,iBAChBC,SAAUH,EAASG,SACnBC,MAAOJ,EAASI,MAChBC,SAAUL,EAASK,SACnBC,KAAMN,EAASM,QAPnBP,EAAA,EAWO,SAAeC,GACpB,OAAOC,IAAMC,KAAK,gBAChBE,MAAOJ,EAASI,MAChBC,SAAUL,EAASK,YAdvBN,EAAA,EAkBO,WACL,OAAOE,IAAMM,IAAI,oBAnBnBR,EAAA,EAsBO,SAAwBC,GAC7B,OAAOC,IAAMC,KAAK,kBAAmBF,IAvBvCD,EAAA,EA0BO,SAAqBK,GAC1B,OAAOH,IAAMM,IAAI,oBACfC,QACEJ,MAAOA,MA7Bb,IAAAK,EAAAC,EAAA,2KC6CAC,GACAC,KAAA,MACAC,KAFA,WAGA,OACAC,YAAA,IACAC,WACAC,mBAAA,EACAC,UAAA,IAGAC,QAVA,WAUA,IAwBAC,EAxBAC,EAAAC,KACAC,OAAAC,iBAAA,wBAAAC,GACAJ,EAAAK,oBAAAD,GACA,IAAAE,EAAAC,UAAAD,UACAE,EAAAF,EAAAG,QAAA,YACA,GAAAD,EAEA,cAEA,GAAAF,EAAAG,QAAA,cACAT,EAAAU,qBACA,GACAJ,EAAAG,QAAA,kBACAH,EAAAG,QAAA,aACAD,EACA,CAEA,IAAAG,GADAP,MAAAF,OAAAU,MAAAV,OAAAU,MAAA,OACAC,SAAAT,EAAAU,OAAAF,MAAAC,QACAE,EAAAX,EAAAY,QAAAZ,EAAAU,OAAAF,MAAAI,QACAL,EAAA,GAAAI,IACAf,EAAAU,mBAIAR,OAAAC,iBAAA,UAAAJ,EAAAkB,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,EAAAjB,GAAA,OAAAc,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACAzB,EAAAU,cAAAN,GADA,wBAAAmB,EAAAG,SAAAL,EAAArB,MAAA,SAAA2B,GAAA,OAAA5B,EAAA6B,MAAA3B,KAAA4B,eAIAC,UAtCA,WAsCA,IAAAC,EAAA9B,KACAC,OAAA8B,oBAAA,wBAAA5B,GAAA,OACA2B,EAAA1B,oBAAAD,KAEAF,OAAA8B,oBAAA,kBAAA5B,GAAA,OAAA2B,EAAArB,cAAAN,MAEA6B,SACA5B,oBADA,SACAD,GACAH,KAAAL,oBAAA,IAAAsC,MAAAC,WAEAzB,cAJA,SAIAN,GACAH,KAAAJ,WAAA,IAAAqC,MAAAC,UAAAlC,KAAAL,mBAGAwC,aAAAC,QAAA,OAAApC,KAAAJ,WACAI,KAAAJ,WAAA,GACAuC,aAAAE,WAAA,QAGAC,gBAbA,SAaAC,EAAAC,GACAxC,KAAAyC,QAAAC,MAAAnD,KAAAgD,KAEAI,YAhBA,WAiBA3C,KAAAyC,QAAAC,MAAAE,KAAA,aAEAC,cAnBA,WAoBA7C,KAAAyC,QAAAC,MAAAE,KAAA,cAEAE,WAtBA,WAuBA,MAAA9C,KAAA+C,OAAAH,MAAA5C,KAAAyC,QAAAC,MAAAE,KAAA,OAEAI,OAzBA,WA0BAhD,KAAAiD,OAAAC,SAAA,YAGAC,UACArE,SADA,WAEA,OAAAkB,KAAAiD,OAAAG,MAAAC,QAAAvE,YCrHewE,GADEC,OAFjB,WAA0B,IAAAC,EAAAxD,KAAayD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,UAAeI,YAAA,SAAmBJ,EAAA,OAAYI,YAAA,YAAsBJ,EAAA,OAAYK,IAAIC,MAAAT,EAAAV,cAAwBa,EAAA,UAAeO,aAAaC,QAAA,YAAoBX,EAAAY,GAAA,iBAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAgDI,YAAA,UAAoBJ,EAAA,KAAUI,YAAA,0BAAAC,IAA0CC,MAAAT,EAAAX,iBAA2BW,EAAAY,GAAA,UAAAZ,EAAA1E,SAAA6E,EAAA,QAA+CK,IAAIC,MAAAT,EAAAb,eAAyBgB,EAAA,QAAAH,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,UAAAH,EAAAY,GAAA,eAAAZ,EAAAY,GAAA,KAAAT,EAAA,QAAAH,EAAAY,GAAA,kBAAAT,EAAA,QAAsIK,IAAIC,MAAAT,EAAAX,iBAA2Bc,EAAA,UAAAH,EAAAY,GAAAZ,EAAAa,GAAAb,EAAA1E,aAAA0E,EAAAY,GAAA,KAAAT,EAAA,KAAkEI,YAAA,wBAAAC,IAAwCC,MAAAT,EAAAR,gBAAoBQ,EAAAY,GAAA,KAAAT,EAAA,OAAAA,EAAA,WAA4CE,OAAOS,KAAA,aAAAC,iBAAAf,EAAA/D,YAAA+E,mBAAA,UAAAC,aAAA,OAAAC,oBAAA,WAAoIV,IAAKW,OAAAnB,EAAAlB,mBAA8BqB,EAAA,gBAAqBE,OAAOe,MAAA,eAAqBpB,EAAAY,GAAA,sBAAAZ,EAAAY,GAAA,KAAAT,EAAA,eAAAH,EAAAY,GAAA,KAAAZ,EAAAqB,GAAA,QAErhCC,iBADjB,WAAoC,IAAarB,EAAbzD,KAAa0D,eAA0BC,EAAvC3D,KAAuC4D,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoBI,YAAA,WAAqBJ,EAAA,OAAYI,YAAA,YAAsBJ,EAAA,QAA1I3D,KAA0IoE,GAAA,mBAA1IpE,KAA0IoE,GAAA,KAAAT,EAAA,QAA1I3D,KAA0IoE,GAAA,eAA1IpE,KAA0IoE,GAAA,KAAAT,EAAA,OAA0GI,YAAA,oBCGxR,IAuBegB,EAvBU1F,EAAQ,OAcjC2F,CACE1F,EACAgE,GATF,EAXA,SAAA2B,GACE5F,EAAQ,QACRA,EAAQ,SAaV,kBAEA,MAUgC,sFC2CjB6F,GACb9B,OAnEAtE,SAAU,GACVG,KAAM,GACNF,MAAO,GACPoG,OAAQ,GACRrB,GAAI,IAgEJsB,SA5DAC,WAAY,SAAAjC,GACV,QAASA,EAAMrE,SAAWqE,EAAMnE,OA4DlCqG,SAvDMC,MADQ,SAAAzF,EAAA0F,GACwC,IAAAzF,EAAAC,KAAxCyF,EAAwC3F,EAAxC2F,OAAQL,EAAgCtF,EAAhCsF,QAAarG,EAAmByG,EAAnBzG,MAAOC,EAAYwG,EAAZxG,SAAY,OAAAgC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAsE,EAAAC,EAAA,OAAA1E,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAChD4D,EAAQC,WADwC,CAAA/D,EAAAE,KAAA,eAAAF,EAAAsE,OAAA,qBAEhDzD,aAAa0D,QAAQ,OAF2B,CAAAvE,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAG3BsE,cAH2B,cAG5CH,EAH4CrE,EAAAyE,KAIlDN,EAAO,QAASE,EAASnG,KAAKA,MAJoB8B,EAAAsE,OAAA,oBAO/C7G,GAAUC,EAPqC,CAAAsC,EAAAE,KAAA,gBAAAF,EAAAsE,OAAA,yBAAAtE,EAAAE,KAAA,GAS/B+D,aAAQxG,MAAOA,EAAOC,SAAUA,IATD,aAShD2G,EATgDrE,EAAAyE,MAUvCvG,KAAKwG,QAVkC,CAAA1E,EAAAE,KAAA,gBAWlDW,aAAaC,QAAQ,MAAOuD,EAASnG,KAAKA,KAAKyG,OAC/CR,EAAO,QAASE,EAASnG,KAAKA,MAZoB8B,EAAAsE,OAAA,SAa3CD,GAb2C,cAe5C,IAAIO,MAAMP,EAASnG,KAAKA,KAAK2G,KAfe,yBAAA7E,EAAAG,SAAAL,EAAArB,KAAAiB,IAmBhDgC,OApBQ,SAAAoD,GAoBW,IAAAtE,EAAA9B,KAAVyF,EAAUW,EAAVX,OAAU,OAAAzE,IAAAC,EAAAC,EAAAC,KAAA,SAAAkF,IAAA,OAAApF,EAAAC,EAAAG,KAAA,SAAAiF,GAAA,cAAAA,EAAA/E,KAAA+E,EAAA9E,MAAA,OACvBiE,EAAO,UADgB,wBAAAa,EAAA7E,SAAA4E,EAAAvE,KAAAd,IAGnBuF,aAvBQ,SAAAC,GAuBiB,IAAAC,EAAAzG,KAAVyF,EAAUe,EAAVf,OAAU,OAAAzE,IAAAC,EAAAC,EAAAC,KAAA,SAAAuF,IAAA,IAAA/H,EAAA,OAAAsC,EAAAC,EAAAG,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EACNsE,cADM,OACvBnH,EADuBgI,EAAAZ,KAE7BN,EAAO,QAAS9G,EAASa,KAAKA,MAFD,wBAAAmH,EAAAlF,SAAAiF,EAAAD,KAAAzF,IAIzB4F,eA3BQ,SAAAC,EA2BmBlI,GAAU,IAAAmI,EAAA9G,KAApByF,EAAoBoB,EAApBpB,OAAoB,OAAAzE,IAAAC,EAAAC,EAAAC,KAAA,SAAA4F,IAAA,IAAAC,EAAA,OAAA/F,EAAAC,EAAAG,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAyF,EAAAzF,KAAA,EACnC0F,YAAevI,GADoB,cAAAsI,EAAAzF,KAAA,EAEfsE,cAFe,OAEnCkB,EAFmCC,EAAAlB,KAGzC5D,aAAaC,QAAQ,MAAO4E,EAAYxH,KAAKA,KAAKyG,OAClDR,EAAO,QAASuB,EAAYxH,KAAKA,MAJQ,wBAAAyH,EAAAxF,SAAAsF,EAAAD,KAAA9F,KA8B3CmG,WArBA5B,MADgB,SACVnC,EAAOgE,GACXhE,EAAMrE,MAAQqI,EAAQrI,MACtBqE,EAAMtE,SAAWsI,EAAQtI,SACzBsE,EAAMnE,KAAOmI,EAAQnI,KACrBmE,EAAM+B,OAASiC,EAAQjC,OAAS,MAAQkC,KAAKC,SAC7ClE,EAAMU,GAAKsD,EAAQtD,IAErBd,OARgB,SAQTI,GACLA,EAAMtE,SAAW,GACjBsE,EAAMnE,KAAO,GACbmE,EAAMrE,MAAQ,GACdqE,EAAM+B,OAAS,GACf/B,EAAMU,GAAK,GACX3B,aAAaoF,WC9DjBC,UAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,IAAKE,OACtBC,SACExE,aCRWyE,IAEXlF,KAAM,IACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,MAAA+H,KAAA7I,EAAA8I,KAAA,iBCHNC,IAEP7I,KAAM,YACNqD,KAAM,aACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,KAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,SACNqD,KAAM,cACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,KAAA+H,KAAA7I,EAAA8I,KAAA,iBCTVE,IAEXzF,KAAM,SACNmF,UAAW,kBAAM1I,EAAAc,EAAA,IAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjBvF,KAAM,UACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,MAAA+H,KAAA7I,EAAA8I,KAAA,iBCPNG,GACb1F,KAAM,aACNmF,UAAW,kBAAM1I,EAAAc,EAAA,IAAA+H,KAAA7I,EAAA8I,KAAA,eACjBI,WAEIhJ,KAAM,QACNqD,KAAM,IACNmF,UAAW,kBAAM1I,EAAAc,EAAA,IAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,WACNqD,KAAM,WACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,KAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,WACNqD,KAAM,WACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,KAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,MACNqD,KAAM,MACNmF,UAAW,kBAAM1I,EAAAc,EAAA,GAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjBvF,KAAM,qBACNrD,KAAM,YACNwI,UAAW,kBAAM1I,EAAAc,EAAA,GAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjBvF,KAAM,8BACNrD,KAAM,iBACNwI,UAAW,kBAAM1I,EAAAc,EAAA,IAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,WACNqD,KAAM,WACNmF,UAAW,kBAAM1I,EAAAc,EAAA,GAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,aACNqD,KAAM,aACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,MAAA+H,KAAA7I,EAAA8I,KAAA,kBC1CRK,GACX5F,KAAM,WACNmF,UAAW,kBAAM1I,EAAAc,EAAA,IAAA+H,KAAA7I,EAAA8I,KAAA,eACjBI,WAEQhJ,KAAM,UACNqD,KAAM,UACNmF,UAAW,kBAAM1I,EAAAc,EAAA,GAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,WACNqD,KAAM,SACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,MAAA+H,KAAA7I,EAAA8I,KAAA,iBAGjB5I,KAAM,OACNqD,KAAM,OACNmF,UAAW,kBAAMC,QAAAC,KAAA5I,EAAAc,EAAA,GAAAd,EAAAc,EAAA,KAAA+H,KAAA7I,EAAA8I,KAAA,kBCJ7BX,UAAIC,IAAIgB,KAER,IAAMC,EAAY,IAAIC,EAAAzH,GAAK,SAAU,UAAW,MAE1C0H,EAAS,IAAIH,KACjBI,qBACKf,GADLgB,IAEKV,GAFLU,IAGKT,IACHG,EACAF,MAIJM,EAAOG,WAAW,SAACC,EAAIC,EAAMzH,GACvBkH,EAAUQ,IAAIF,EAAGpG,MACnBpB,IAIGmG,EAAMvC,QAAQC,WAQnB7D,IAPEA,GACEoB,KAAM,SACNuG,OAASC,SAAUJ,EAAGK,cAQbT,mFCjCfpB,UAAIC,IAAI,IAAI6B,KACVC,OAAO,EACPC,WAAY,iCAGdhC,UAAIC,IAAIgC,KACRjC,UAAIC,IAAIiC,KACRlC,UAAImC,OAAOC,eAAgB,EAE3BhB,EAAOiB,UAAU,SAACb,EAAIC,GACpBhJ,OAAO6J,SAAS,EAAG,KAGrB,IAAItC,WACFuC,GAAI,OACJnB,SACAjB,QACAqC,YAAc1K,OACd2K,SAAU,8CC7BZ,IAAMN,GACFO,YACIC,QAAS,+BAEbC,aACID,QAAS,0BAIFE,IAAuCV,EAAOO,8CCT7D,IAAAI,EAAAjL,EAAA,QAAAkL,EAAAlL,EAAAmL,EAAAF,GAAAG,EAAApL,EAAA,QAAAqL,EAAArL,EAAAmL,EAAAC,GAAAE,EAAAtL,EAAA,QAGAT,IAAMgM,SAAST,QAAUR,IAAOQ,QAChCvL,IAAMgM,SAASC,iBAAkB,EAEjCjM,IAAMkM,aAAaC,QAAQtD,IAAI,SAAUkC,GAQvC,OAPAA,EAAOqB,QAAQC,OAAf,cACE,UAAY9I,aAAa0D,QAAQ,OACb,QAAlB8D,EAAOuB,SACTvB,EAAOwB,iBAAmB,SAAUhM,GAClC,OAAOiM,IAAGC,UAAUlM,GAAUmM,YAAa,aAGxC3B,IAGM/K,MAAf","file":"static/js/app.cca8866bd0f374268edc.js","sourcesContent":["import axios from \"@/utils/axios\";\n\nexport function signup(userinfo) {\n  return axios.post(\"/users/signup\", {\n    username: userinfo.username,\n    email: userinfo.email,\n    password: userinfo.password,\n    role: userinfo.role\n  });\n}\n\nexport function login(userinfo) {\n  return axios.post(\"/users/login\", {\n    email: userinfo.email,\n    password: userinfo.password\n  });\n}\n\nexport function getInfo() {\n  return axios.get(\"/users/userinfo\");\n}\n\nexport function updateUserInfo(userinfo) {\n  return axios.post(\"/users/userinfo\", userinfo);\n}\n\nexport function getUserinfo(email) {\n  return axios.get(\"/users/uibyemail\", {\n    params: {\n      email: email\n    }\n  })\n}\n\nexport function getUserinfoByid(id) {\n  return axios.get(\"/users/uibyid\", {\n    params: {\n      id: id\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/account/account.js","<template>\n  <div id=\"app\">\n    <header class=\"head\">\n      <div class=\"topmenu\">\n        <div @click=\"jumpToHome\">\n          <strong style=\"padding:0 1rem\">UJSOnline</strong>\n        </div>\n        <div class=\"login\">\n          <i class=\"iconfont icon-touxiang1\" @click=\"jumpToProfile\"></i>\n          <span @click=\"jumpToLogin\" v-if=\"username === ''\">\n            <span>my</span>\n            <strong>UJSOnline</strong>\n            <span>connection</span>\n          </span>\n          <span v-else @click=\"jumpToProfile\">\n            <strong>{{ username }}</strong>\n            <i @click=\"logout\" class=\"iconfont icon-log-out\"></i>\n          </span>\n        </div>\n      </div>\n      <nav>\n        <el-menu\n          mode=\"horizontal\"\n          :default-active=\"avtiveIndex\"\n          @select=\"handleNavSelect\"\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\"\n        >\n          <el-menu-item index=\"allcourse\">Course</el-menu-item>\n        </el-menu>\n      </nav>\n    </header>\n    <router-view></router-view>\n    <footer class=\"footer\">\n      <div class=\"botLogo\">\n        <span>University Of</span>\n        <span>JiangSu</span>\n      </div>\n      <div class=\"botMessage\"></div>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      avtiveIndex: \"0\",\n      menus: [{}],\n      _beforeUnload_time: 0,\n      _gap_time: 0\n    };\n  },\n  mounted() {\n    window.addEventListener(\"beforeunload\", e => {\n      this.beforeunloadHandler(e);\n      let userAgent = navigator.userAgent;\n      let isOpera = userAgent.indexOf(\"Opera\") > -1;\n      if (isOpera) {\n        //判断是否Opera浏览器\n        return \"Opera\";\n      }\n      if (userAgent.indexOf(\"Firefox\") > -1) {\n        this.unloadHandler();\n      } else if (\n        userAgent.indexOf(\"compatible\") > -1 &&\n        userAgent.indexOf(\"MSIE\") > -1 &&\n        !isOpera\n      ) {\n        e = e ? e : window.event ? window.event : null;\n        var cy = e.clientY || e.target.event.clientY;\n        var ak = e.altKey || e.target.event.altKey;\n        if (cy < 0 || ak) {\n          this.unloadHandler();\n        }\n      }\n    });\n    window.addEventListener(\"unload\", async e => {\n      this.unloadHandler(e);\n    });\n  },\n  destroyed() {\n    window.removeEventListener(\"beforeunload\", e =>\n      this.beforeunloadHandler(e)\n    );\n    window.removeEventListener(\"unload\", e => this.unloadHandler(e));\n  },\n  methods: {\n    beforeunloadHandler(e) {\n      this._beforeUnload_time = new Date().getTime();\n    },\n    unloadHandler(e) {\n      this._gap_time = new Date().getTime() - this._beforeUnload_time;\n\n      //判断是窗口关闭还是刷新\n      localStorage.setItem(\"time\", this._gap_time);\n      if (this._gap_time <= 5) {\n        localStorage.removeItem(\"ujs\");\n      }\n    },\n    handleNavSelect(key, keyPath) {\n      this.$router.push({ name: key });\n    },\n    jumpToLogin() {\n      this.$router.push({ path: \"/signup\" });\n    },\n    jumpToProfile() {\n      this.$router.push({ path: \"/profile\" });\n    },\n    jumpToHome() {\n      if (this.$route.path !== \"/\") this.$router.push({ path: \"/\" });\n    },\n    logout() {\n      this.$store.dispatch(\"logout\");\n    }\n  },\n  computed: {\n    username() {\n      return this.$store.state.account.username;\n    }\n  }\n};\n</script>\n\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: \"Source Sans Pro\", Tahoma, Verdana, sans-serif;\n}\n\n.icon {\n  width: 1em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n</style>\n\n<style scoped>\n#app {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: #f4f4f4;\n}\n\n.head {\n  min-height: 100px;\n}\n\nbody {\n  flex: 1;\n  overflow: auto;\n}\n\n.footer {\n  min-height: 100px;\n  background: #81221c;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.topmenu {\n  background: #81221c;\n  height: 3rem;\n  color: white;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 1rem;\n}\n\n.login {\n  text-align: center;\n  padding: 10px;\n}\n\n.el-menu--horizontal > .el-menu-item {\n  float: right;\n  font-size: 1rem;\n  margin-right: 1rem;\n}\n\n.botLogo {\n  width: 150px;\n  display: flex;\n  flex-direction: column;\n  color: white;\n  padding: 5px;\n}\n\n.botLogo > span {\n  margin: 5px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',{staticClass:\"head\"},[_c('div',{staticClass:\"topmenu\"},[_c('div',{on:{\"click\":_vm.jumpToHome}},[_c('strong',{staticStyle:{\"padding\":\"0 1rem\"}},[_vm._v(\"UJSOnline\")])]),_vm._v(\" \"),_c('div',{staticClass:\"login\"},[_c('i',{staticClass:\"iconfont icon-touxiang1\",on:{\"click\":_vm.jumpToProfile}}),_vm._v(\" \"),(_vm.username === '')?_c('span',{on:{\"click\":_vm.jumpToLogin}},[_c('span',[_vm._v(\"my\")]),_vm._v(\" \"),_c('strong',[_vm._v(\"UJSOnline\")]),_vm._v(\" \"),_c('span',[_vm._v(\"connection\")])]):_c('span',{on:{\"click\":_vm.jumpToProfile}},[_c('strong',[_vm._v(_vm._s(_vm.username))]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-log-out\",on:{\"click\":_vm.logout}})])])]),_vm._v(\" \"),_c('nav',[_c('el-menu',{attrs:{\"mode\":\"horizontal\",\"default-active\":_vm.avtiveIndex,\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"},on:{\"select\":_vm.handleNavSelect}},[_c('el-menu-item',{attrs:{\"index\":\"allcourse\"}},[_vm._v(\"Course\")])],1)],1)]),_vm._v(\" \"),_c('router-view'),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',{staticClass:\"footer\"},[_c('div',{staticClass:\"botLogo\"},[_c('span',[_vm._v(\"University Of\")]),_vm._v(\" \"),_c('span',[_vm._v(\"JiangSu\")])]),_vm._v(\" \"),_c('div',{staticClass:\"botMessage\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d5cf104\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d5cf104\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d5cf104\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d5cf104\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d5cf104\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import { login, getInfo, updateUserInfo } from \"@/api/account/account\";\nimport { getAvatar } from \"../../api/account/account\";\n\nconst state = {\n  username: \"\",\n  role: \"\",\n  email: \"\",\n  avatar: \"\",\n  id: \"\"\n};\n\nconst getters = {\n  isLoggedIn: state => {\n    return !!state.email && !!state.role;\n  }\n};\n\nconst actions = {\n  async login({ commit, getters }, { email, password }) {\n    if (getters.isLoggedIn) return;\n    if (localStorage.getItem(\"ujs\")) {\n      const response = await getInfo();\n      commit(\"login\", response.data.data);\n      return;\n    }\n    if (!email || !password) return;\n\n    let response = await login({ email: email, password: password });\n    if (response.data.success) {\n      localStorage.setItem(\"ujs\", response.data.data.token);\n      commit(\"login\", response.data.data);\n      return response;\n    } else {\n      throw new Error(response.data.data.err);\n    }\n\n  },\n  async logout({ commit }) {\n    commit(\"logout\");\n  },\n  async updateAvatar({ commit }) {\n    const userinfo = await getInfo();\n    commit(\"login\", userinfo.data.data);\n  },\n  async changeUserInfo({ commit }, userinfo) {\n    await updateUserInfo(userinfo);\n    const newuserinfo = await getInfo();\n    localStorage.setItem(\"ujs\", newuserinfo.data.data.token);\n    commit(\"login\", newuserinfo.data.data);\n  }\n};\n\nconst mutations = {\n  login(state, payload) {\n    state.email = payload.email;\n    state.username = payload.username;\n    state.role = payload.role;\n    state.avatar = payload.avatar + \"?r=\" + Math.random();\n    state.id = payload.id;\n  },\n  logout(state) {\n    state.username = \"\";\n    state.role = \"\";\n    state.email = \"\";\n    state.avatar = \"\";\n    state.id = \"\";\n    localStorage.clear();\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/account.js","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport account from \"./modules/account\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    account\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default [\n  {\n    path: \"/\",\n    component: () => import('views/home/pages/home')\n  }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/home/homeRouterConfig.js","export default [\n    {\n        name: \"allcourse\",\n        path: \"/allcourse\",\n        component: () => import('views/course/pages/allcourse')\n    },\n    {\n        name: \"course\",\n        path: \"/course/:id\",\n        component: () => import('views/course/pages/course')\n    }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/course/courseRouterConfig.js","export default [\n  {\n    path: \"/login\",\n    component: () => import('views/Login/pages/login')\n  },\n  {\n    path: \"/signup\",\n    component: () => import('views/Login/pages/signup')\n  }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/login/loginRouterConfig.js","export default {\n  path: \"/study/:id\",\n  component: () => import('views/study/pages/study'),\n  children: [\n    {\n      name: \"study\",\n      path: \"/\",\n      component: () => import('views/study/pages/main')\n    },\n    {\n      name: 'question',\n      path: \"question\",\n      component: () => import('views/study/pages/question/question')\n    },\n    {\n      name: \"homework\",\n      path: \"homework\",\n      component: () => import('views/study/pages/homework/homework')\n    },\n    {\n      name: \"bbs\",\n      path: \"bbs\",\n      component: () => import('views/study/pages/bbs/bbs')\n    },\n    {\n      path: \"bbs/detail/:postid\",\n      name: \"bbsdetail\",\n      component: () => import('views/study/pages/bbs/bbsdetail')\n    },\n    {\n      path: \"homework/detail/:homeworkid\",\n      name: \"homeworkdetail\",\n      component: () => import('views/study/pages/homework/homeworkdetail')\n    },\n    {\n      name: \"resource\",\n      path: \"resource\",\n      component: () => import('views/study/pages/resource/resource')\n    },\n    {\n      name: 'management',\n      path: 'management',\n      component: () => import('views/study/pages/management/management')\n    }\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/study/studyRouterConfig.js","export default {\n    path: \"/profile\",\n    component: () => import('views/setting/pages/index'),\n    children: [\n        {\n            name: \"setting\",\n            path: \"setting\",\n            component: () => import('views/setting/pages/profile/setting')\n        },\n        {\n            name: \"mycourse\",\n            path: \"course\",\n            component: () => import('views/setting/pages/profile/course')\n        },\n        {\n            name: \"chat\",\n            path: \"chat\",\n            component: () => import('views/setting/pages/profile/chat')\n        }\n    ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/setting/settingRouterConfig.js","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"@/store/index\";\n\n/**\n * 模块的路由配置\n */\nimport homeRouterConfig from \"views/home/homeRouterConfig\";\nimport courseRouterConfig from \"views/course/courseRouterConfig\";\nimport loginRouterConfig from \"views/login/loginRouterConfig\";\nimport studyRouterConfig from \"views/study/studyRouterConfig\";\nimport settingRouterConfig from \"views/setting/settingRouterConfig\";\n\nVue.use(Router);\n\nconst whiteList = new Set([\"/login\", \"/signup\", \"/\"]);\n\nconst router = new Router({\n  routes: [\n    ...homeRouterConfig,\n    ...courseRouterConfig,\n    ...loginRouterConfig,\n    settingRouterConfig,\n    studyRouterConfig\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (whiteList.has(to.path)) {\n    next();\n    return;\n  }\n\n  if (!store.getters.isLoggedIn) {\n    next({\n      path: \"/login\",\n      query: { redirect: to.fullPath }\n    });\n    return;\n  }\n\n  next();\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router/index\";\nimport store from \"./store/index\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport VueSocketIO from 'vue-socket.io'\nimport ZeoUi from \"ziyao-ui\";\n\nVue.use(new VueSocketIO({\n  debug: false,\n  connection: 'http://101.200.209.120:3000',\n}))\n\nVue.use(ElementUI);\nVue.use(ZeoUi);\nVue.config.productionTip = false;\n\nrouter.afterEach((to, from) => {\n  window.scrollTo(0, 0);\n});\n\nnew Vue({\n  el: \"#app\",\n  router,\n  store,\n  components: { App },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const config = {\n    production: {\n        baseURL: 'http://101.200.209.120:3000'\n    },\n    development: {\n        baseURL: 'http://127.0.0.1:3000'\n    }\n}\n\nexport default process.env.NODE_ENV == 'production' ? config.production : config.development;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/config.js","import axios from \"axios\";\nimport qs from \"qs\";\nimport config from './config';\naxios.defaults.baseURL = config.baseURL;\naxios.defaults.withCredentials = true;\n\naxios.interceptors.request.use(function (config) {\n  config.headers.common[\"Authorization\"] =\n    \"Bearer \" + localStorage.getItem(\"ujs\");\n  if (config.method === \"get\") {\n    config.paramsSerializer = function (params) {\n      return qs.stringify(params, { arrayFormat: \"repeat\" });\n    };\n  }\n  return config;\n});\n\nexport default axios;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/axios.js"],"sourceRoot":""}